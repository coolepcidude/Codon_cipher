<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Codon Cipher Encoder/Decoder</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f5f5f5; }
    h1 { color: #333; }
    textarea { width: 100%; height: 80px; margin-bottom: 1rem; font-family: monospace; }
    button, .about-button { margin: 0.5rem 0; padding: 0.5rem 1rem; border: none; border-radius: 5px; background-color: #333; color: white; cursor: pointer; text-decoration: none; display: inline-block; }
    .output { background: #fff; border: 1px solid #ccc; padding: 1rem; min-height: 50px; }
    input[type="text"] { padding: 0.5rem; margin-bottom: 1rem; width: 200px; }
  </style>
</head>
<body>
  <h1>Codon Cipher Encoder/Decoder</h1>
  <a href="about.html" class="about-button">About</a>
  <br><br>
  <label>Codon Characters (4 unique characters):</label><br>
  <input type="text" id="codonChars" value="1234" maxlength="4">
  <br>
  <label>Input:</label>
  <textarea id="input"></textarea>
  <br>
  <button onclick="encode()">Encode</button>
  <button onclick="decode()">Decode</button>
  <h3>Output:</h3>
  <div class="output" id="output"></div>

  <script>
    const values = [
      "A", "Q", "7", ":", "B", "R", "8", ";", "C", "S", "9", "!", "D", "T", "0", "?",
      "E", "U", "@", ".", "F", "V", "#", ",", "G", "W", "$", "{}", "H", "X", "_", "[]",
      "I", "Y", "&", "=", "J", "Z", "-", "%", "K", "1", "+", "<", "L", "2", "()", ">",
      "M", "3", "/", "~", "N", "4", "*", "÷", "O", "5", "“", "|", "P", "6", "`", " "
    ];

    function getCodonMap(chars) {
      const codonMap = {};
      const reverseMap = {};
      let i = 0;
      for (let a of chars) {
        for (let b of chars) {
          for (let c of chars) {
            const code = a + b + c;
            const val = values[i];
            codonMap[code] = val;
            reverseMap[val.toUpperCase()] = code;
            i++;
          }
        }
      }
      return { codonMap, reverseMap };
    }

    function encode() {
      const chars = document.getElementById("codonChars").value;
      if (new Set(chars).size !== 4) {
        alert("Please enter 4 unique characters for the codon alphabet.");
        return;
      }
      const { reverseMap } = getCodonMap(chars);
      const input = document.getElementById("input").value.toUpperCase();
      let result = [];
      for (let ch of input) {
        result.push(reverseMap[ch.toUpperCase()] || "");
      }
      document.getElementById("output").innerText = result.join(" ");
    }

    function decode() {
      const chars = document.getElementById("codonChars").value;
      if (new Set(chars).size !== 4) {
        alert("Please enter 4 unique characters for the codon alphabet.");
        return;
      }
      const { codonMap } = getCodonMap(chars);
      const input = document.getElementById("input").value.trim();
      const parts = input.split(/\s+/);
      let result = parts.map(code => codonMap[code] || "?").join("");
      document.getElementById("output").innerText = result;
    }
  </script>
</body>
</html>
